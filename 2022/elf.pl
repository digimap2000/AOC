#!/usr/bin/perl

open(FH, '<', 'elf.txt');
while (<FH>)
{
    chomp();
    /^(\d+)-(\d+),(\d+)-(\d+)/;

    my $a = (($1 >= $3) && ($2 <= $4));
    my $b = (($3 >= $1) && ($4 <= $2));

    my $c = (($1 >= $3) && ($1 <= $4)) || (($2 >= $3) && ($2 <= $4));
    my $d = (($3 >= $1) && ($4 <= $1)) || (($3 >= $2) && ($4 <= $2));

    $total += ($a || $b || $c || $d) ? 1 : 0;
}
print $total . "\n";


